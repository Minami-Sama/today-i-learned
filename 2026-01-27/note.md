# TIL: Twine（Harlowe）で「最後まで動く」超ミニ・インタラクティブ体験を作った（2026-01-27）

## 今日やったこと（成果）
- Twine（Story Format: **Harlowe 3.3.9**）で、**最初の画面 → 分岐 → ランダム文 → エンド → タイトルへ戻る**まで一周できるプロトタイプを作った。
- 変数を使って「訪問回数」的な状態を持たせ、**初回と再訪でStartの表示を切り替え**て“ゲームっぽさ”を出した。
- Story Stylesheet（CSS）を追加して、**紙っぽい背景＋読みやすいレイアウト**に整えた。

## できたプロトタイプの構成（縦スライス）
- `Start`：入口。初回/再訪で表示分岐（`$visited` を利用）
- `R0Intro`：距離感（温度）を選ぶ（`$heat`）
- `R1Hall`：分岐した温度に応じて台詞が変わる
- `R1Sasarui`：行動が褒めに変換されるテキスト
- `PeakUI`：ボタンで短文がランダム表示（`either:`）
- `Return`：余韻→タイトルへ戻る

## 学び（エタり防止の観点）
- 「ツールを全部理解してから作る」より、**先に“最後まで遊べる最小形”を作る**のが一番強い。
- タイマーや凝った演出は後回しでOK。まずは **動く・戻れる・一周できる**が最重要。
- 改修は「1機能だけ」を徹底すると、迷子にならず継続できる。

## 詰まったことと解決
### 1) パッセージ名に `_` を使うと変な解釈になることがある
- `R0_Intro` でエラーが出たので **`R0Intro` のようにアンダースコアを消して回避**。

### 2) `(align:)` は `"center"` ではなく矢印指定が必要だった
- `The (align:) macro requires an alignment arrow...` が出た。
- `(align:"==><=")[ ... ]` に修正して解決。

### 3) `(text-style:)` がそのまま表示される
- **半角の `()` を使う**／Story FormatがHarloweであることを確認。
- 必要なら `<em>...</em>` で安全に表現もできる。

## Story Stylesheet（CSS）メモ
紙っぽい背景＋読みやすさを優先して最小構成で入れた。

```css
tw-story {
  background: #f7f4ee;
  color: #1a1a1a;
}

tw-link, tw-link.visited {
  color: #0b3d91;
}

tw-passage {
  line-height: 1.75;
  max-width: 42em;
  margin: 0 auto;
  padding: 2.2em 1.4em;
}
